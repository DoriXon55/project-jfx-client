/*C3*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS projekt(\u000a projekt_id SERIAL, --SERIAL lub INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1)\u000a nazwa VARCHAR(50) NOT NULL,\u000a opis VARCHAR(1000),\u000a dataczas_utworzenia TIMESTAMP DEFAULT now(),\u000a data_oddania DATE,\u000a CONSTRAINT projekt_pk PRIMARY KEY (projekt_id)\u000a)
CREATE TABLE IF NOT EXISTS zadanie (\u000a      zadanie_id SERIAL,\u000a      nazwa VARCHAR(50) NOT NULL,\u000a      opis CLOB,\u000a      kolejnosc INTEGER NOT NULL,\u000a      dataczas_utworzenia TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\u000a      status VARCHAR(20),\u000a      data_rozpoczecia DATE,\u000a      data_zakonczenia DATE,\u000a      projekt_id INTEGER NOT NULL,\u000a      CONSTRAINT zadanie_pk PRIMARY KEY (zadanie_id)\u000a        )
CREATE INDEX IF NOT EXISTS projekt_nazwa_idx ON projekt(nazwa)
CREATE INDEX IF NOT EXISTS zadanie_nazwa_idx ON zadanie(nazwa)
ALTER TABLE zadanie ADD CONSTRAINT IF NOT EXISTS zadanie_projekt_fk FOREIGN KEY (projekt_id) REFERENCES projekt (projekt_id) ON DELETE CASCADE
ALTER TABLE zadanie ADD CONSTRAINT IF NOT EXISTS unique_kolejnosc UNIQUE (kolejnosc, projekt_id)
INSERT INTO PROJEKT VALUES(17,'Aplikacja mobilna','Tworzenie aplikacji mobilnej dla systemu Android','2025-03-24 21:24:17.507212','2025-06-24')
INSERT INTO PROJEKT VALUES(18,'Strona internetowa','Stworzenie responsywnej strony internetowej','2025-03-17 21:24:17.507212','2025-04-24')
INSERT INTO PROJEKT VALUES(19,'System zarz\u0105dzania','Wewn\u0119trzny system zarz\u0105dzania zasobami','2025-03-10 21:24:17.507212','2025-09-24')
INSERT INTO ZADANIE VALUES(7,'Planowanie architektury','Zaplanowanie architektury aplikacji',1,'2025-03-24 21:24:17.509215',17,'ZAKO\u0143CZONE',NULL,NULL)
INSERT INTO ZADANIE VALUES(8,'Projektowanie UI','Zaprojektowanie interfejsu u\u017cytkownika',2,'2025-03-24 21:24:17.509215',17,'W TRAKCIE',NULL,NULL)
INSERT INTO ZADANIE VALUES(9,'Implementacja logiki','Implementacja g\u0142\u00f3wnych funkcjonalno\u015bci',3,'2025-03-24 21:24:17.509215',17,'NOWE',NULL,NULL)
INSERT INTO ZADANIE VALUES(10,'Projektowanie uk\u0142adu strony','Tworzenie makiety strony',1,'2025-03-24 21:24:17.509215',18,'ZAKO\u0143CZONE',NULL,NULL)
INSERT INTO ZADANIE VALUES(11,'Kodowanie HTML/CSS','Implementacja front-endu',2,'2025-03-24 21:24:17.509215',18,'W TRAKCIE',NULL,NULL)
INSERT INTO ZADANIE VALUES(12,'Analiza wymaga\u0144','Zebranie wymaga\u0144 od interesariuszy',1,'2025-03-24 21:24:17.509215',19,'ZAKO\u0143CZONE',NULL,NULL)
INSERT INTO ZADANIE VALUES(13,'Projektowanie bazy danych','Zaprojektowanie struktury bazy danych',2,'2025-03-24 21:24:17.509215',19,'ZAKO\u0143CZONE',NULL,NULL)
INSERT INTO ZADANIE VALUES(14,'Implementacja modu\u0142\u00f3w','Tworzenie g\u0142\u00f3wnych modu\u0142\u00f3w systemu',3,'2025-03-24 21:24:17.509215',19,'W TRAKCIE',NULL,NULL)
INSERT INTO ZADANIE VALUES(15,'Testowanie','Przeprowadzenie test\u00f3w systemu',4,'2025-03-24 21:24:17.510212',19,'NOWE',NULL,NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=7
DELETE FROM ZADANIE WHERE ZADANIE_ID=8
DELETE FROM ZADANIE WHERE ZADANIE_ID=9
INSERT INTO ZADANIE VALUES(8,'Projektowanie UI','Zaprojektowanie interfejsu u\u017cytkownika',1,'2025-03-24 21:24:17.509215',17,'W TRAKCIE',NULL,NULL)
INSERT INTO ZADANIE VALUES(9,'Implementacja logiki','Implementacja g\u0142\u00f3wnych funkcjonalno\u015bci',2,'2025-03-24 21:24:17.509215',17,'NOWE',NULL,NULL)
COMMIT
INSERT INTO ZADANIE VALUES(16,'sdfg','sfg',3,'2025-03-24 21:24:34.901539',17,'Nowe','2025-03-24',NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=16
COMMIT
INSERT INTO ZADANIE VALUES(17,'','',3,'2025-03-24 21:24:44.289153',17,'Nowe','2025-03-24',NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=9
DELETE FROM ZADANIE WHERE ZADANIE_ID=17
INSERT INTO ZADANIE VALUES(17,'','',2,'2025-03-24 21:24:44.289153',17,'Nowe','2025-03-24',NULL)
COMMIT
INSERT INTO ZADANIE VALUES(18,'','',3,'2025-03-24 21:24:48.234541',17,'Nowe','2025-03-24',NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=8
DELETE FROM ZADANIE WHERE ZADANIE_ID=17
DELETE FROM ZADANIE WHERE ZADANIE_ID=18
INSERT INTO ZADANIE VALUES(17,'','',1,'2025-03-24 21:24:44.289153',17,'Nowe','2025-03-24',NULL)
INSERT INTO ZADANIE VALUES(18,'','',2,'2025-03-24 21:24:48.234541',17,'Nowe','2025-03-24',NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=17
DELETE FROM ZADANIE WHERE ZADANIE_ID=18
INSERT INTO ZADANIE VALUES(18,'','',1,'2025-03-24 21:24:48.234541',17,'Nowe','2025-03-24',NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=18
COMMIT
INSERT INTO ZADANIE VALUES(19,'','',1,'2025-03-24 21:24:55.947172',17,'Nowe','2025-03-24',NULL)
COMMIT
DELETE FROM ZADANIE WHERE ZADANIE_ID=19
COMMIT
DELETE FROM PROJEKT WHERE PROJEKT_ID=17
COMMIT
DELETE FROM PROJEKT WHERE PROJEKT_ID=18
DELETE FROM ZADANIE WHERE ZADANIE_ID=10
DELETE FROM ZADANIE WHERE ZADANIE_ID=11
COMMIT
DELETE FROM PROJEKT WHERE PROJEKT_ID=19
DELETE FROM ZADANIE WHERE ZADANIE_ID=12
DELETE FROM ZADANIE WHERE ZADANIE_ID=13
DELETE FROM ZADANIE WHERE ZADANIE_ID=14
DELETE FROM ZADANIE WHERE ZADANIE_ID=15
COMMIT
INSERT INTO PROJEKT VALUES(20,'','','2025-03-24 21:25:13.118390',NULL)
COMMIT
DELETE FROM PROJEKT WHERE PROJEKT_ID=20
COMMIT
